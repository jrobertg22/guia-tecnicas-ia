<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario: Tema 01 - Técnicas de IA</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Arvo:wght@700&family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-color: #1e293b; /* Azul pizarra suave */
            --card-bg: #f8fafc;
            --primary: #f7b212;
            --text-main: #1e293b;
            --text-light: #64748b;
            --accent: #3b82f6;
            --success: #15803d;
            --error: #b91c1c;
            --feedback-bg: #f1f5f9;
        }

        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            font-family: 'Inter', sans-serif;
            color: var(--text-main);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .quiz-container {
            width: 90%;
            max-width: 700px;
            background: var(--card-bg);
            border-radius: 20px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            padding: 40px;
            position: relative;
        }

        .progress-bar-container {
            width: 100%;
            height: 8px;
            background: #e2e8f0;
            position: absolute;
            top: 0;
            left: 0;
        }

        #progress-fill {
            height: 100%;
            background: var(--primary);
            width: 0%;
            transition: width 0.3s ease;
        }

        header {
            text-align: center;
            margin-bottom: 25px;
        }

        h1 {
            font-family: 'Arvo', serif;
            font-size: 1.6rem;
            margin: 0;
            color: var(--bg-color);
        }

        .question-number {
            font-weight: 600;
            color: var(--accent);
            text-transform: uppercase;
            font-size: 0.85rem;
            letter-spacing: 1px;
            margin-bottom: 8px;
            display: block;
        }

        .question-text {
            font-size: 1.2rem;
            line-height: 1.5;
            margin-bottom: 20px;
            font-weight: 600;
        }

        .options-list {
            list-style: none;
            padding: 0;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .option-item {
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 12px 18px;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            font-size: 0.95rem;
        }

        .option-item:hover:not(.disabled) {
            border-color: var(--accent);
            background-color: #eff6ff;
        }

        .option-item.selected {
            border-color: var(--primary);
            background-color: #fefce8;
        }

        .option-item.correct-ans {
            border-color: var(--success);
            background-color: #f0fdf4;
            color: var(--success);
            font-weight: 600;
        }

        .option-item.wrong-ans {
            border-color: var(--error);
            background-color: #fef2f2;
            color: var(--error);
        }

        .option-item.disabled {
            cursor: default;
            opacity: 0.8;
        }

        input { margin-right: 12px; }

        .feedback-area {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
            background: var(--feedback-bg);
            border-left: 4px solid var(--accent);
            display: none;
        }

        .feedback-title {
            font-weight: 700;
            display: block;
            margin-bottom: 5px;
        }

        .justification {
            font-size: 0.9rem;
            line-height: 1.4;
            color: var(--text-light);
        }

        .nav-buttons {
            margin-top: 25px;
            display: flex;
            justify-content: space-between;
            gap: 10px;
        }

        button {
            padding: 10px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            font-size: 0.9rem;
            transition: opacity 0.2s;
        }

        .btn-validate { background: var(--primary); color: #000; flex-grow: 1; }
        .btn-next { background: var(--bg-color); color: white; }
        .btn-prev { background: #e2e8f0; color: var(--text-light); }
        button:disabled { opacity: 0.3; cursor: not-allowed; }

        #result-screen { text-align: center; display: none; }
        .score-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 6px solid var(--primary);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 1.8rem;
            font-weight: 700;
            margin: 20px auto;
        }
    </style>
</head>
<body>

<div class="quiz-container">
    <div class="progress-bar-container"><div id="progress-fill"></div></div>
    
    <div id="quiz-screen">
        <header>
            <span class="question-number" id="q-count"></span>
            <h1 id="q-text"></h1>
        </header>

        <div class="options-list" id="options-container"></div>

        <div class="feedback-area" id="feedback-area">
            <span class="feedback-title" id="feedback-status"></span>
            <p class="justification" id="justification-text"></p>
        </div>

        <div class="nav-buttons">
            <button class="btn-prev" id="btn-prev" onclick="changeQuestion(-1)">Anterior</button>
            <button class="btn-validate" id="btn-validate" onclick="validateCurrent()">Validar Respuesta</button>
            <button class="btn-next" id="btn-next" onclick="changeQuestion(1)" disabled>Siguiente</button>
        </div>
    </div>
	<div id="result-screen">
        <h1>¡Test Completado!</h1>
        <div class="score-circle" id="final-score"></div>
        <p id="result-msg">Revisa los temas sugeridos para fortalecer tu aprendizaje.</p>
        <div style="text-align: left; background: #f1f5f9; padding: 20px; border-radius: 12px; margin-top: 20px;">
            <h3>Sugerencias de Repaso:</h3>
            <ul id="suggested-topics"></ul>
        </div>
        
        <button class="btn-next" style="margin-top: 20px; width: 100%;" onclick="location.reload()">Reiniciar Test</button>
        <button class="btn-prev" style="margin-top: 10px; width: 100%; border: 2px solid #e2e8f0;" onclick="window.location.href='examenes.html'">Ir a Examenes</button>
		<button class="btn-prev" style="margin-top: 10px; width: 100%; border: 2px solid #e2e8f0;" onclick="window.location.href='index.html'">Ir al Menú Principal</button>
    </div>
</div>

<script>
    const quizData = [
        {
            question: "1. Indica cuáles de las siguientes afirmaciones son correctas: ",
            options: [
                "A. La escuela de la IA Fuerte defiende que las máquinas pueden llegar a tener conciencia.",
                "B. La escuela de la IA Débil no defiende que los procesos cerebrales puedan ser simulados en un computador.",
                "C. El juego de imitación de Turing consiste en que una máquina consiga mantener una conversación tal y como lo haría un humano.",
                "D. Las técnicas de aprendizaje automático no forman parte del campo de la IA."
            ],
            correct: [0, 2],
            type: "multiple",
            topic: "1.2. Aproximación a conceptos (IA Fuerte y Test de Turing)",
            justification: "La IA Fuerte sostiene que las máquinas pueden tener conciencia y el Test de Turing evalúa la capacidad de una máquina para conversar como un humano. Es falso que la IA Débil no defienda la simulación cerebral (simplemente no busca conciencia)  y el aprendizaje automático es parte integral de la IA."
        },
        {
            question: "2. Indica cuál de las siguientes afirmaciones no es correcta: ",
            options: [
                "A. La minería de datos usa aprendizaje automático para descubrir patrones en grandes cantidades de datos.",
                "B. La minería de datos tiene un objetivo fundamentalmente teórico. ",
                "C. Existe una fase KDD que consiste en ejecutar técnicas de IA. ",
                "D. En el KDD existen fases previas de selección y transformación de los datos. "
            ],
            correct: 1,
            type: "single",
            topic: "1.2. Concepto de Minería de Datos",
            justification: "La afirmación B es incorrecta porque el objetivo de la minería de datos es eminentemente práctico, no teórico."
        },
        {
            question: "3. Indica cuál no es correcta respecto a la experiencia en el aprendizaje de conceptos: ",
            options: [
                "A. Consiste en un conjunto de objetos específicos denominados instancias. ",
                "B. Consiste en una serie de ejemplos y no-ejemplos. ",
                "C. Consiste en instancias con atributos de entrada y de salida. ",
                "D. Consiste en un conjunto de datos denominado datos de prueba. "
            ],
            correct: 3,
            type: "single",
            topic: "1.3. Definición de aprendizaje",
            justification: "La experiencia se compone de datos de entrenamiento. Los datos de prueba se utilizan para validar la generalización de la solución después del entrenamiento."
        },
        {
            question: "4. Identificar la clase de una instancia desconocida en base a atributos comunes a ejemplos previos es: ",
            options: ["A. Discriminación. ", "B. Generalización. ", "C. Clasificación. ", "D. Descripción. "],
            correct: 1,
            type: "single",
            topic: "1.3. Tareas básicas: Generalización",
            justification: "La generalización consiste en identificar la clase de una instancia desconocida examinando los atributos comunes con ejemplos encontrados previamente."
        },
        {
            question: "5. Descubrir síntomas comunes de un grupo con enfermedad bien conocida es un aprendizaje de tipo: ",
            options: ["A. Supervisado. ", "B. No-supervisado. "],
            correct: 0,
            type: "single",
            topic: "1.3. Aprendizaje Supervisado",
            justification: "Se trata de aprendizaje supervisado porque se intenta describir un concepto o clase (enfermedad) que ya es conocido a partir de ejemplos."
        },
        {
            question: "6. Descubrir síntomas comunes de un grupo con diagnóstico desconocido es un aprendizaje de tipo: ",
            options: ["A. Supervisado. ", "B. No-supervisado. "],
            correct: 1,
            type: "single",
            topic: "1.3. Aprendizaje No-supervisado",
            justification: "Es no-supervisado porque el objetivo es formar un nuevo concepto o clase desconocida a partir de los datos."
        },
        {
            question: "7. Indica cuál no es cierta respecto al descubrimiento de conocimiento (KDD): ",
            options: [
                "A. Procedimiento completo para extraer conocimiento. ",
                "B. Sea cual sea el modelo KDD las fases siempre son las mismas. ",
                "C. La interpretación de resultados es parte del procedimiento. ",
                "D. Es un proceso que puede ser iterativo. "
            ],
            correct: 1,
            type: "single",
            topic: "1.4. Etapas del KDD",
            justification: "La afirmación B es falsa; aunque hay etapas típicas, el resto de las etapas variará de unos modelos KDD a otros."
        },
        {
            question: "8. Indica cuál de las siguientes afirmaciones no es correcta: ",
            options: [
                "A. Los datos de entrenamiento son instancias. ",
                "B. Pueden contener no-ejemplos. ",
                "C. Los atributos son denominados también ejemplos. ",
                "D. Al concepto que se aprende se le llama también clase. "
            ],
            correct: 2,
            type: "single",
            topic: "1.3. Definiciones de Aprendizaje",
            justification: "Los atributos son las características de las instancias. Las instancias que son miembros de la clase son las que se denominan ejemplos."
        },
        {
            question: "9. Indica cuáles son correctas respecto al aprendizaje de conceptos: ",
            options: [
                "A. Se resuelven como búsqueda en espacio de hipótesis. ",
                "B. Se aplican búsquedas sobre el espacio completo. ",
                "C. El tamaño de los datos no influye. ",
                "D. Existen distintas descripciones de un concepto en la práctica. ",
                "E. El sobreajuste es generalizar demasiado. "
            ],
            correct: [0, 3],
            type: "multiple",
            topic: "1.3. Hipótesis y Búsqueda",
            justification: "El aprendizaje se plantea a menudo como búsqueda en un espacio de hipótesis  y pueden hallarse distintas descripciones válidas. Buscar en el espacio completo suele ser inviable  y el sobreajuste es ser demasiado específico."
        },
        {
            question: "10. Indica cuál no es correcta respecto a un sistema experto: ",
            options: [
                "A. Incorpora conocimiento de un experto humano. ",
                "B. Raramente se ha aplicado a problemas reales con éxito. ",
                "C. Suele estar limitado a un dominio. ",
                "D. Puede complementarse con aprendizaje automático. "
            ],
            correct: 1,
            type: "single",
            topic: "1.2. Sistemas Expertos",
            justification: "Es falso que raramente tengan éxito; de hecho, el test de Turing sienta las bases para validar sistemas expertos que se comparan con el rendimiento de humanos en áreas específicas."
        }
    ];

    let currentIdx = 0;
    const userAnswers = new Array(quizData.length).fill(null).map(() => []);
    const validatedArr = new Array(quizData.length).fill(false);

    function render() {
        const q = quizData[currentIdx];
        const isValidated = validatedArr[currentIdx];
        
        document.getElementById('q-count').innerText = `Pregunta ${currentIdx + 1} de ${quizData.length}`;
        document.getElementById('q-text').innerText = q.question;
        document.getElementById('progress-fill').style.width = `${((currentIdx + 1) / quizData.length) * 100}%`;
        
        const container = document.getElementById('options-container');
        container.innerHTML = "";

        q.options.forEach((opt, i) => {
            const div = document.createElement('div');
            const isSelected = userAnswers[currentIdx].includes(i);
            
            let statusClass = "";
            if (isValidated) {
                const isCorrect = Array.isArray(q.correct) ? q.correct.includes(i) : q.correct === i;
                if (isCorrect) statusClass = "correct-ans";
                else if (isSelected) statusClass = "wrong-ans";
                div.classList.add("disabled");
            } else if (isSelected) {
                statusClass = "selected";
            }

            div.className = `option-item ${statusClass}`;
            div.innerHTML = `<input type="${q.type === 'multiple' ? 'checkbox' : 'radio'}" ${isSelected ? 'checked' : ''} ${isValidated ? 'disabled' : ''}> <span>${opt}</span>`;
            if (!isValidated) div.onclick = () => selectOption(i);
            container.appendChild(div);
        });

        document.getElementById('feedback-area').style.display = isValidated ? "block" : "none";
        if (isValidated) {
            const isCorrect = checkCorrectness(currentIdx);
            document.getElementById('feedback-status').innerText = isCorrect ? "✓ ¡Correcto!" : "✗ Incorrecto";
            document.getElementById('feedback-status').style.color = isCorrect ? "var(--success)" : "var(--error)";
            document.getElementById('justification-text').innerText = q.justification;
        }

        document.getElementById('btn-prev').disabled = currentIdx === 0;
        document.getElementById('btn-validate').style.display = isValidated ? "none" : "block";
        document.getElementById('btn-next').disabled = !isValidated;
        document.getElementById('btn-next').innerText = currentIdx === quizData.length - 1 ? "Finalizar" : "Siguiente";
    }

    function selectOption(idx) {
        if (quizData[currentIdx].type === "single") userAnswers[currentIdx] = [idx];
        else {
            const pos = userAnswers[currentIdx].indexOf(idx);
            if (pos > -1) userAnswers[currentIdx].splice(pos, 1);
            else userAnswers[currentIdx].push(idx);
        }
        render();
    }

    function validateCurrent() {
        if (userAnswers[currentIdx].length === 0) return alert("Selecciona una respuesta.");
        validatedArr[currentIdx] = true;
        render();
    }

    function checkCorrectness(idx) {
        const q = quizData[idx];
        const user = userAnswers[idx].sort().join(',');
        const correct = Array.isArray(q.correct) ? q.correct.sort().join(',') : q.correct.toString();
        return user === correct;
    }

    function changeQuestion(step) {
        if (step === 1 && currentIdx === quizData.length - 1) return showResults();
        currentIdx += step;
        render();
    }

    function showResults() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        let score = 0;
        const failedTopics = new Set();
        quizData.forEach((q, i) => {
            if (checkCorrectness(i)) score++;
            else failedTopics.add(q.topic);
        });
        document.getElementById('final-score').innerText = `${score}/10`;
        const list = document.getElementById('suggested-topics');
        list.innerHTML = "";
        failedTopics.forEach(t => { const li = document.createElement('li'); li.innerText = t; list.appendChild(li); });
        if (failedTopics.size === 0) list.innerHTML = "<li>¡Todo dominado! Estás listo para el examen.</li>";
    }

    render();
</script>
</body>
</html>